<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SeonYul System Diary</title>
  <link href="https://fonts.googleapis.com/css2?family=Creepster&family=Roboto+Mono:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css"/>
</head>
<body>
  <div class="container">
    <header>
      <h1>SeonYul System Diary</h1>
      <nav>
        <button id="tab-diary" class="tab active">Diary</button>
        <button id="tab-health" class="tab">Health Check</button>
        <button id="tab-memo" class="tab">Memo</button>
        <button id="tab-wh" class="tab">Working Holiday</button>
      </nav>
    </header>

    <!-- Diary Section -->
    <section id="diary-section">
      <div id="category-filters"></div>
      <form id="diary-form">
        <input type="text" id="diary-title" placeholder="Title" required />
        <select id="diary-category" required>
          <option value="General">General</option>
          <option value="Health">Health</option>
          <option value="Schedule">Schedule</option>
          <option value="Record">Record</option>
          <option value="Chat">Chat</option>
        </select>
        <textarea id="diary-content" placeholder="Content" required></textarea>
        <button type="submit">Post</button>
      </form>
      <div id="diary-entries"></div>
    </section>

    <!-- Health Check Section -->
    <section id="health-section" style="display:none;">
      <div id="health-tag-filters"></div>
      <form id="health-form">
        <textarea id="health-memo" placeholder="Memo (optional)" rows="2"></textarea>
        <button type="submit">Submit</button>
      </form>
      <div id="health-entries"></div>
    </section>

    <!-- Memo Section -->
    <section id="memo-section" style="display:none;">
      <form id="memo-form">
        <input type="text" id="memo-title" placeholder="Title" required />
        <textarea id="memo-content" placeholder="Memo" required></textarea>
        <button type="submit">Save</button>
      </form>
      <div id="memo-entries"></div>
    </section>

    <!-- Working Holiday Section -->
    <section id="wh-section" style="display:none;">
      <div id="wh-tag-filters"></div>
      <form id="wh-form">
        <select id="wh-title" required>
          <option value="Planning">Planning</option>
          <option value="In Progress">In Progress</option>
          <option value="Completed">Completed</option>
          <option value="English Study">English Study</option>
        </select>
        <textarea id="wh-content" placeholder="Content" required></textarea>
        <button type="submit">Post</button>
      </form>
      <div id="wh-entries"></div>
    </section>

    <script>
      document.addEventListener('DOMContentLoaded', () => {
        // Section switching
        function showSection(id) {
          document.querySelectorAll('section').forEach(s=>s.style.display='none');
          document.getElementById(id).style.display='';
        }
        document.querySelectorAll('.tab').forEach(tab=>{
          tab.addEventListener('click', ()=>{
            document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
            tab.classList.add('active');
            showSection(tab.id.replace('tab-','')+'-section');
          });
        });

        // Diary filters & entries
        const diaryCats=['All','General','Health','Schedule','Record','Chat'];
        const catDiv=document.getElementById('category-filters');
        diaryCats.forEach(cat=>{
          const b=document.createElement('button');b.className='cat-btn';b.innerText=cat;
          b.addEventListener('click',()=>{document.querySelectorAll('.cat-btn').forEach(x=>x.classList.remove('active'));b.classList.add('active');renderDiary();});
          catDiv.appendChild(b);
        });
        catDiv.firstChild.classList.add('active');
        let diaryEntries=JSON.parse(localStorage.getItem('diaryEntries')||'[]');
        const diaryForm=document.getElementById('diary-form'), diaryDiv=document.getElementById('diary-entries');
        function renderDiary(){
          const active=document.querySelector('.cat-btn.active').innerText;
          const filtered=diaryEntries.filter(e=>active==='All'||e.category===active);
          diaryDiv.innerHTML=[...filtered].reverse().map(e=>`<div class="entry"><div class="entry-header"><span class="entry-date">${e.date}</span><span class="entry-title">[${e.category}] ${e.title}</span></div><div class="entry-content">${e.content}</div></div>`).join('');
        }
        diaryForm.addEventListener('submit',e=>{e.preventDefault();const date=new Date().toLocaleString(),title=document.getElementById('diary-title').value,category=document.getElementById('diary-category').value,content=document.getElementById('diary-content').value;diaryEntries.push({date,title,category,content});localStorage.setItem('diaryEntries',JSON.stringify(diaryEntries));renderDiary();diaryForm.reset();});
        renderDiary();

        // Health filters & entries
        const healthCats=['All','Sleep','Meal','Medication','Mood','Exercise'];
        const hDiv=document.getElementById('health-tag-filters');
        healthCats.forEach(cat=>{const b=document.createElement('button');b.className='health-tag-btn';b.innerText=cat; b.addEventListener('click',()=>{document.querySelectorAll('.health-tag-btn').forEach(x=>x.classList.remove('active'));b.classList.add('active');renderHealth();});hDiv.appendChild(b);});
        hDiv.firstChild.classList.add('active');
        let healthEntries=JSON.parse(localStorage.getItem('healthEntries')||'[]');
        const healthForm=document.getElementById('health-form'), healthEntriesDiv=document.getElementById('health-entries');
        function renderHealth(){
          const active=document.querySelector('.health-tag-btn.active').innerText;
          const filtered=healthEntries.filter(e=>active==='All'||e.category===active);
          healthEntriesDiv.innerHTML=[...filtered].reverse().map(e=>`<div class="entry"><div class="health-header"><span class="health-date">${e.date}</span><span class="health-tag">${e.category}</span></div><div class="health-content">${e.memo}</div></div>`).join('');
        }
        healthForm.addEventListener('submit',e=>{e.preventDefault();const date=new Date().toLocaleString(),category=document.querySelector('.health-tag-btn.active').innerText,memo=document.getElementById('health-memo').value;healthEntries.push({date,category,memo});localStorage.setItem('healthEntries',JSON.stringify(healthEntries));renderHealth();healthForm.reset();});
        renderHealth();

        // Memo entries
        let memoEntries=JSON.parse(localStorage.getItem('memoEntries')||'[]');
        const memoForm=document.getElementById('memo-form'), memoDiv=document.getElementById('memo-entries');
        function renderMemo(){memoDiv.innerHTML=[...memoEntries].reverse().map(e=>`<div class="entry"><div class="memo-header"><span class="memo-date">${e.date}</span><span class="memo-title">${e.title}</span></div><div class="memo-content">${e.content}</div></div>`).join('');}
        memoForm.addEventListener('submit',e=>{e.preventDefault();const date=new Date().toLocaleString(),title=document.getElementById('memo-title').value,content=document.getElementById('memo-content').value;memoEntries.push({date,title,content});localStorage.setItem('memoEntries',JSON.stringify(memoEntries));renderMemo();memoForm.reset();});
        renderMemo();

        // Working Holiday filters & entries
        const whCats=['All','Planning','In Progress','Completed','English Study'];
        const whFilter=document.getElementById('wh-tag-filters');
        whCats.forEach(cat=>{const b=document.createElement('button');b.className='wh-tag-btn';b.innerText=cat;b.addEventListener('click',()=>{document.querySelectorAll('.wh-tag-btn').forEach(x=>x.classList.remove('active'));b.classList.add('active');renderWH();});whFilter.appendChild(b);});
        whFilter.firstChild.classList.add('active');
        let whEntries=JSON.parse(localStorage.getItem('whEntries')||'[]');
        const whForm=document.getElementById('wh-form'), whDiv=document.getElementById('wh-entries');
        function renderWH(){const active=document.querySelector('.wh-tag-btn.active').innerText;const filtered=whEntries.filter(e=>active==='All'||e.title===active);whDiv.innerHTML=[...filtered].reverse().map(e=>`<div class="entry"><div class="wh-header"><span class="wh-date">${e.date}</span><span class="wh-tag">${e.title}</span></div><div class="wh-content">${e.content}</div></div>`).join('');}
        whForm.addEventListener('submit',e=>{e.preventDefault();const date=new Date().toLocaleString(),title=document.getElementById('wh-title').value,content=document.getElementById('wh-content').value;whEntries.push({date,title,content});localStorage.setItem('whEntries',JSON.stringify(whEntries));renderWH();whForm.reset();});
        renderWH();
      });
    </script>
  </div>
</body>
</html>

