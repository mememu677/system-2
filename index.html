<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SeonYul System Diary</title>
  <!-- Fonts: Goth-Punk (Creepster + Roboto Mono) -->
  <link href="https://fonts.googleapis.com/css2?family=Creepster&family=Roboto+Mono:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="container">
    <header>
      <h1>SeonYul System Diary</h1>
      <nav>
        <button id="tab-diary" class="tab active">Diary</button>
        <button id="tab-health" class="tab">Health Check</button>
        <button id="tab-memo" class="tab">Memo</button>
        <button id="tab-wh" class="tab">Working Holiday</button>
      </nav>
    </header>

    <!-- Diary Section -->
    <section id="diary-section">
      <div id="category-filters"></div>
      <form id="diary-form">
        <input type="text" id="diary-title" placeholder="Title" required />
        <select id="diary-category" required>
          <option value="General">General</option>
          <option value="Health">Health</option>
          <option value="Schedule">Schedule</option>
          <option value="Record">Record</option>
          <option value="Chat">Chat</option>
        </select>
        <textarea id="diary-content" placeholder="Content" required></textarea>
        <button type="submit">Post</button>
      </form>
      <div id="diary-entries"></div>
    </section>

    <!-- Health Check Section -->
    <section id="health-section" style="display:none;">
      <div id="health-tag-filters"></div>
      <form id="health-form">
        <textarea id="health-memo" placeholder="Memo (optional)" rows="2"></textarea>
        <button type="submit">Submit</button>
      </form>
      <div id="health-entries"></div>
    </section>

    <!-- Memo Section -->
    <section id="memo-section" style="display:none;">
      <form id="memo-form">
        <input type="text" id="memo-title" placeholder="Title" required />
        <textarea id="memo-content" placeholder="Memo" required></textarea>
        <button type="submit">Save</button>
      </form>
      <div id="memo-entries"></div>
    </section>

    <!-- Working Holiday Section -->
    <section id="wh-section" style="display:none;">
      <div id="wh-tag-filters"></div>
      <form id="wh-form">
        <select id="wh-title" required>
          <option value="Planning">Planning</option>
          <option value="In Progress">In Progress</option>
          <option value="Completed">Completed</option>
          <option value="English Study">English Study</option>
        </select>
        <textarea id="wh-content" placeholder="Content" required></textarea>
        <button type="submit">Post</button>
      </form>
      <div id="wh-entries"></div>
    </section>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Show one section at a time
      function showSection(id) {
        document.querySelectorAll('section').forEach(sec => sec.style.display = 'none');
        document.getElementById(id).style.display = '';
      }
      // Tab click
      document.querySelectorAll('.tab').forEach(tab => {
        tab.addEventListener('click', () => {
          document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
          tab.classList.add('active');
          showSection(tab.id.replace('tab-', '') + '-section');
        });
      });

      // Diary category filters
      const diaryCats = ['All','General','Health','Schedule','Record','Chat'];
      const catDiv = document.getElementById('category-filters');
      diaryCats.forEach(cat => {
        const btn = document.createElement('button');
        btn.className = 'cat-btn'; btn.innerText = cat;
        btn.addEventListener('click', () => {
          document.querySelectorAll('.cat-btn').forEach(b=>b.classList.remove('active'));
          btn.classList.add('active'); renderDiary();
        });
        catDiv.appendChild(btn);
      });
      document.querySelector('.cat-btn').classList.add('active');

      // Diary entries
      let diaryEntries = JSON.parse(localStorage.getItem('diaryEntries') || '[]');
      const diaryForm = document.getElementById('diary-form');
      const diaryDiv = document.getElementById('diary-entries');
      function renderDiary() {
        const active = document.querySelector('.cat-btn.active').innerText;
        const filtered = diaryEntries.filter(e => active==='All' || e.category===active);
        diaryDiv.innerHTML = [...filtered].reverse().map(e => `
          <div class="entry">
            <div class="entry-header">
              <span class="entry-date">${e.date}</span>
              <span class="entry-title">[${e.category}] ${e.title}</span>
            </div>
            <div class="entry-content">${e.content}</div>
          </div>`).join('');
      }
      renderDiary();
      diaryForm.addEventListener('submit', e => {
        e.preventDefault();
        const date = new Date().toLocaleString();
        const title = document.getElementById('diary-title').value;
        const category = document.getElementById('diary-category').value;
        const content = document.getElementById('diary-content').value;
        diaryEntries.push({ date, title, category, content });
        localStorage.setItem('diaryEntries', JSON.stringify(diaryEntries));
        renderDiary(); diaryForm.reset();
      });

      // Health category filters
      const healthCats = ['All','Sleep','Meal','Medication','Mood','Exercise'];
      const healthFilterDiv = document.getElementById('health-tag-filters');
      healthCats.forEach(cat => {
        const btn = document.createElement('button');
        btn.className = 'health-tag-btn'; btn.innerText = cat;
        btn.addEventListener('click', () => {
          document.querySelectorAll('.health-tag-btn').forEach(b=>b.classList.remove('active'));
          btn.classList.add('active'); renderHealth();
        });
        healthFilterDiv.appendChild(btn);
      });
      document.querySelector('.health-tag-btn').classList.add('active');

      // Health entries
      let healthEntries = JSON.parse(localStorage.getItem('healthEntries') || '[]');
      const healthForm = document.getElementById('health-form');
      const healthDiv = document.getElementById('health-entries');
      function renderHealth() {
        const active = document.querySelector('.health-tag-btn.active').innerText;
        const filtered = healthEntries.filter(e => active==='All' || e.category===active);
        healthDiv.innerHTML = [...filtered].reverse().map(e => `
          <div class="entry">
            <div class="health-header">
              <span class="health-date">${e.date}</span>
              <span class="health-tag">${e.category}</span>
            </div>
            <div class="health-content">${e.memo}</div>
          </div>`).join('');
      }
      renderHealth();
      healthForm.addEventListener('submit', e => {
        e.preventDefault();
        const date = new Date().toLocaleString();
        const category = document.querySelector('.health-tag-btn.active').innerText;
        const memo = document.getElementById('health-memo').value;
        healthEntries.push({ date, category, memo });
        localStorage.setItem('healthEntries', JSON.stringify(healthEntries));
        renderHealth(); healthForm.reset();
      });

      // Memo and WH sections unchanged...
      // ...
    });
    </script>
  </div>
</body>
</html>

